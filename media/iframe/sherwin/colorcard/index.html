<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>SW Paint On Color Card Alt 300x250 TML5</title>

  <script type="text/javascript" src="http://ds.serving-sys.com/BurstingScript/EBLoader.js"></script>
  <!-- <script src="js/scripts.js"></script> -->
  <link rel="stylesheet" href="css/styles.css" media="screen" type="text/css" />

</head>

<body>

<div id="banner" class="dimensions">

<div id="theEnd">
  <div id="cans"></div>
  <div id="logo"></div>
  <div id="paintOn">
    <img src="img/paintOn.svg" onerror="this.onerror=null; this.src='paintOn.png'">
  </div>
  <div id="nowAvailable"></div>
  <div id="logoLowes"></div>
</div>

  <div id="t0" class="chip" style="fill:#A4074F;">
    <svg x="0px" y="0px" width="100%" height="100%" viewBox="0 0 723.6 250" enable-background="new 0 0 723.6 250" xml:space="preserve">
      <symbol  id="chip_colored" viewBox="-300 -250 723.6 250">
        <polygon fill-rule="evenodd" clip-rule="evenodd" points="423.6,-250 -241.75,-250 -300,0 365.35,0   "/>
      </symbol>
      <use xlink:href="#chip_colored"  width="723.6" height="250" x="-300" y="-250" transform="matrix(1 0 0 -1 300 0)"/>
    </svg>
    <div class="shadow"></div>
  </div>

  <div id="text4"></div>

  <div id="t1" class="chip" style="fill:#75B983;">
    <svg x="0px" y="0px" width="100%" height="100%" viewBox="0 0 723.6 250" enable-background="new 0 0 723.6 250" xml:space="preserve">
      <symbol  id="chip_colored" viewBox="-300 -250 723.6 250">
        <polygon fill-rule="evenodd" clip-rule="evenodd" points="423.6,-250 -241.75,-250 -300,0 365.35,0   "/>
      </symbol>
      <use xlink:href="#chip_colored"  width="723.6" height="250" x="-300" y="-250" transform="matrix(1 0 0 -1 300 0)"/>
    </svg>
    <div class="shadow"></div>
  </div>

  <div id="text3"></div>

  <div id="t2" class="chip" style="fill:#FFE699;">
    <svg x="0px" y="0px" width="100%" height="100%" viewBox="0 0 723.6 250" enable-background="new 0 0 723.6 250" xml:space="preserve">
      <symbol  id="chip_colored" viewBox="-300 -250 723.6 250">
        <polygon fill-rule="evenodd" clip-rule="evenodd" points="423.6,-250 -241.75,-250 -300,0 365.35,0   "/>
      </symbol>
      <use xlink:href="#chip_colored"  width="723.6" height="250" x="-300" y="-250" transform="matrix(1 0 0 -1 300 0)"/>
    </svg>
    <div class="shadow"></div>
  </div>

  <div id="t3" class="chip" style="fill:#00A5C2;">
    <svg x="0px" y="0px" width="100%" height="100%" viewBox="0 0 723.6 250" enable-background="new 0 0 723.6 250" xml:space="preserve">
      <use xlink:href="#chip_colored"  width="723.6" height="250" x="-300" y="-250" transform="matrix(1 0 0 -1 300 0)"/>
    </svg>
    <div class="shadow"></div>
  </div>

  <div id="text2"></div>

  <div id="t4" class="chip" style="fill:#CBAAD1;">
    <svg x="0px" y="0px" width="100%" height="100%" viewBox="0 0 723.6 250" enable-background="new 0 0 723.6 250" xml:space="preserve">
      <use xlink:href="#chip_colored"  width="723.6" height="250" x="-300" y="-250" transform="matrix(1 0 0 -1 300 0)"/>
    </svg>
    <div class="shadow"></div>
  </div>

  <div id="text1"></div>

  <div id="t5" class="chip" style="fill:#005D93;">
    <svg x="0px" y="0px" width="100%" height="100%" viewBox="0 0 723.6 250" enable-background="new 0 0 723.6 250" xml:space="preserve">
      <use xlink:href="#chip_colored"  width="723.6" height="250" x="-300" y="-250" transform="matrix(1 0 0 -1 300 0)"/>
    </svg>
    <div class="shadow"></div>
  </div>

  <div id="t6" class="chip" style="fill:#684681;">
    <svg x="0px" y="0px" width="100%" height="100%" viewBox="0 0 723.6 250" enable-background="new 0 0 723.6 250" xml:space="preserve">
      <use xlink:href="#chip_colored"  width="723.6" height="250" x="-300" y="-250" transform="matrix(1 0 0 -1 300 0)"/>
    </svg>
    <div class="shadow"></div>
  </div>

  <div id="t7" class="chip" style="fill:#C0D9E0;">
    <svg x="0px" y="0px" width="100%" height="100%" viewBox="0 0 723.6 250" enable-background="new 0 0 723.6 250" xml:space="preserve">
      <use xlink:href="#chip_colored"  width="723.6" height="250" x="-300" y="-250" transform="matrix(1 0 0 -1 300 0)"/>
    </svg>
    <div class="shadow"></div>
  </div>

    <div id="border" class="dimensions"></div>

  </div>

  <!-- load scripts after dom has been rendered -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/1.16.1/TweenMax.min.js"></script>
  <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

  <script>

    $(document).ready(function() {

      // function checkInit() {
      //   if (!EB.isInitialized())
      //   {
      //     EB.addEventListener(EBG.EventName.EB_INITIALIZED, wait);
      //     // checks if the EB object is initialized, if no - launches the function "wait" which loops back to the function "checkInit" until the EB object is initialized. if it is done initializing - will run the "onInit" function.
      //   }

      //   else
      //   {
      //     onInit();
      //   }
      // }

      // function wait()
      // {
      //   checkInit(); //loops back to the checkInit function until the EB object is initialized.
      // }

      // checkInit();
      onInit();


      function onInit()
      {
        var $banner = $("#banner"),
            $border = $("#border"),
            $text1 = $("#text1"),
            $text2 = $("#text2"),
            $text3 = $("#text3"),
            $text4 = $("#text4"),
            $theEnd = $("#theEnd"),
              $cans = $("#cans"),
              $logo = $("#logo"),
              $logoLowes = $("#logoLowes"),
              $nowAvailable = $("#nowAvailable"),
              $paintOn = $("#paintOn"),

            $t = [
              $("#t0"),
              $("#t1"),
              $("#t2"),
              $("#t3"),
              $("#t4"),
              $("#t5"),
              $("#t6"),
              $("#t7"),
            ],

            rolloverActive = false,

      	    t = TweenMax;

        t.defaultEase = Power3.easeInOut; //equivalent to 'quart'

        //set init values

        t.set($border, {left:0, top:0});
        t.set($t[7], {left:-707, top:0});
        t.set($t[6], {left:-654, top:0});
        t.set($t[5], {left:-599, top:0});
        t.set($t[4], {left:-546, top:0});
        t.set($t[3], {left:-491, top:0});
        t.set($t[2], {left:-438, top:0});
        t.set($t[1], {left:-384, top:0});
        t.set($t[0], {left:-331, top:0});

        t.set($text1, {left:103, top:104});
        t.set($text2, {left:81, top:107});
        t.set($text3, {left:119, top:107});
        t.set($text4, {left:53, top:76});
        t.set($theEnd, {left:0, top:0});
          t.set($cans, {left:19, top:174});
          t.set($logo, {left:76, top:20});
          t.set($logoLowes, {left:91, top:109});
          t.set($nowAvailable, {left:21, top:79});
          t.set($paintOn, {left:195, top:220});

        t.set(
          [
            $text1,
            $text2,
            $text3,
            $text4,
            $theEnd
          ],

          {autoAlpha:0}
        );

        // t.set($cans, {autoAlpha:.5});

        //init animation
        function seq1()
        {
          t.set($banner, {autoAlpha:1});

          for(var i=0; i<8; i++)
          {
            t.from($t[i], .75+(i/10), {left:"-=400", ease:Strong.easeInOut});
          }

          t.delayedCall(1.5, seq2);
        }

        function seq2()
        {
          t.to($t[1], .5, {left:-202, ease:Power3.easeInOut});
          t.to($t[0], .5, {left:-149, ease:Power3.easeInOut});

          t.to($t[2], .5, {left:-256, delay:.25, ease:Power3.easeInOut});
          t.to($t[3], .5, {left:-309, delay:.35, ease:Power3.easeInOut});

          t.set($text1, {autoAlpha:1, delay:.5});
          t.to($t[4], 1.2, {left:-364, ease:Quart.easeOut, delay:.5});
          t.from($text1, 1.2, {left:"-=182", ease:Quart.easeOut, delay:.5});

          t.to($t[5], .55, {left:-623, ease:Quad.easeInOut, delay:.35});
          t.to($t[6], .55, {left:-678, ease:Quad.easeInOut, delay:.35});
          t.to($t[7], .55, {left:-723, ease:Quad.easeInOut, delay:.35});

         t.delayedCall(3, seq3);
        }

        function seq3()
        {
          t.to($t[6], 1.1, {left:-844, ease:Power3.easeInOut});
          t.to($t[5], 1.1, {left:-789, ease:Power3.easeInOut});
          t.to($t[4], 1.1, {left:-681, ease:Power3.easeInOut});
          t.to($text1, 1.1, {left:"-=317", onComplete:function(){ t.set($text1, {autoAlpha:0}); }, ease:Power3.easeInOut});
          t.set($text2, {autoAlpha:1});
          t.from($text2, 1.5, {left:"+=106", ease:Power3.easeInOut});
          t.to($t[3], 1.5, {left:-415, ease:Power3.easeInOut});
          t.to($t[2], 1.5, {left:-365, ease:Power3.easeInOut});
          t.to($t[1], 1.5, {left:-315, ease:Power3.easeInOut});
          t.to($t[0], 1.5, {left:-265, ease:Power3.easeInOut});


          t.delayedCall(1.75, seq4);
        }

        function seq4()
        {

          t.to($t[4], .8, {left:-801, ease:Power3.easeInOut});
          t.to($t[3], .8, {left:-746, ease:Power3.easeInOut});
          t.to($text2, .8, {left:"-=335", onComplete:function(){ t.set($text2, {autoAlpha:0}); }, ease:Power3.easeInOut});
          t.to($t[2], .9, {left:-625, ease:Power3.easeInOut});

          t.set($text3, {autoAlpha:1});
          t.from($text3, 1.1, {left:"+=69", ease:Power3.easeInOut});
          t.to($t[1], 1.1, {left:-384, ease:Power3.easeInOut});
          t.to($t[0], 1.1, {left:-334, ease:Power3.easeInOut});


          t.delayedCall(1.75, seq5);
        }

        function seq5()
        {

          t.to($text3, 1.1, {left:"-=286", onComplete:function(){ t.set($text3, {autoAlpha:0}); }, ease:Power3.easeInOut});
          t.to($t[2], .9, {left:-754, ease:Power3.easeInOut});

          t.set($text4, {autoAlpha:1});
          t.from($text4, 1.1, {left:"+=69", ease:Power3.easeInOut})
          t.to($t[1], 1.1, {left:-670, ease:Power3.easeInOut});
          t.to($t[0], 1.1, {left:-412, ease:Power3.easeInOut});


          t.delayedCall(4, seq6);
        }

        function seq6()
        {
          t.set(theEnd, {autoAlpha:1});

          t.to($text4, 1.5, {left:"-=355", ease:Power3.easeInOut});
          t.to($t[1], 1.5, {left:-977, ease:Power3.easeInOut});
          t.to($t[0], 1.5, {left:-767, ease:Power3.easeInOut, onComplete:
            function()
            {
              rolloverActive=true;
            }
          });
        }

        seq1();

        $banner.hover(
          function(event)
          {
            console.log("rollover");
            $banner.css( 'cursor', 'pointer' );
            if(rolloverActive)
            {
              t.to($paintOn, .25, {scale:1.2, transformOrigin:"center bottom", ease:Power1.easeOut});
            }
          },

          function(event)
          {
            console.log("rollout");
            $banner.css( 'cursor', 'default' );
            if(rolloverActive)
            {
              t.to($paintOn, .25, {scale:1, transformOrigin:"center bottom", ease:Power1.easeOut});
            }
          }
        );

        $banner.click(function(event)
        {
          console.log("click");
          EB.clickthrough();
        });

      }
    });

  </script>
</body>
</html>